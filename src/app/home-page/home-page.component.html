<div>
  <app-navbar></app-navbar>
  <div class="container">
    <div class="col-left">
      <div style="position: sticky; top: 10%;">
        <app-create-event></app-create-event>
        <app-stats></app-stats>
        <app-hashtags></app-hashtags>
      </div>
    </div>
    <div class="col-mid">
      <app-create-post></app-create-post>
      <!-- List of posts -->
      <div *ngFor="let post of posts; let i = index">
        <!-- Edit -->
        <div class="post-container mb-3">
          <div *ngIf="i === postEditValue; else content">
            <form>
              <input
                type="text"
                placeholder="Change Image"
                #editImage
                value="{{ post.image_path }}"
              />
              <input
                type="text"
                placeholder="Change Content"
                #editContent
                value="{{ post.content }}"
              />
              <button (click)="postEditValue = null" type="button">
                Cancel
              </button>
              <button
                (click)="
                  submitEdit(editContent.value, editImage.value, post.id)
                "
                type="button"
              >
                Save
              </button>
            </form>
          </div>
          <!-- Display posts -->
          <ng-template #content>
            <div *ngIf="post.user_id === user.id">
              <div class="dropdown">
                <button
                  class="btn btn-secondary"
                  type="button"
                  id="dropdownMenuButton1"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  ...
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                  <li>
                    <a class="dropdown-item" (click)="postEditValue = i"
                      >Edit</a
                    >
                  </li>
                  <li>
                    <a class="dropdown-item" (click)="deletePost(post.id)"
                      >Delete</a
                    >
                  </li>
                </ul>
              </div>
            </div>
            <div class="box">
                <img
                  class="profile-picture"
                  src="https://www.jokesforfunny.com/wp-content/uploads/2021/06/0596bdb89b60fe771acd2f5972a9d3e3-905x1200.jpg"
                  alt="profile picture"
                />
                <div>
                  <div class="username">{{ username }}</div>
                  <div class="title">Full Stack Dev</div>
                </div>

            </div>
            <div class="post-content">{{ post.content }}</div>

            <div class="box-2">
              <img class="post-img" src="{{ post.image_path }}" />
            </div>
            <div class="box-3">
              <div style="display: flex; width: 100%;">
                <div style="width: 7%;">
                  <img src="assets/images/uiw_like-o.svg" alt="" class="like" />
                </div>
                <div style="width: 7%;">
                  <img src="assets/images/Chat.svg" alt="" class="chat" />
                </div>
                <div style="width: 86%; text-align: right;">
                  <img src="assets/images/Bookmark.svg" alt="" class="bookmark" />
                </div>
              </div>
              <input type="text" placeholder="Add Comment.." class="comment" />
            </div>
          </ng-template>
        </div>
      </div>
    </div>
    <div class="col-right">
      <div style="position: sticky; top: 10%;">
        <app-upcoming-events></app-upcoming-events>
        <app-pymk></app-pymk>
      </div>
    </div>
  </div>
</div>
